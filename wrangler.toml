# Wrangler configuration for Leadership Legacy Worker
# Documentation: https://developers.cloudflare.com/workers/wrangler/configuration/

name = "leadership-legacy-worker"
main = "worker.js"
compatibility_date = "2024-11-14"
compatibility_flags = ["nodejs_compat"]

# Account ID - Update this after authentication
# Run: wrangler whoami
# account_id = "YOUR_ACCOUNT_ID_HERE"

# Worker configuration
workers_dev = true
route = { pattern = "api.leadershiplegacy.com/*", zone_name = "leadershiplegacy.com" }

# D1 Database binding
# Update database_id after creating: wrangler d1 create leadership-legacy-db
[[d1_databases]]
binding = "LEADERSHIP_DB"
database_name = "leadership-legacy-db"
database_id = "UPDATE_AFTER_CREATION"

# R2 Bucket binding
# Create with: wrangler r2 bucket create leadership-legacy-assets
[[r2_buckets]]
binding = "LEADERSHIP_ASSETS"
bucket_name = "leadership-legacy-assets"

# KV Namespace binding
# Update id after creating: wrangler kv:namespace create "LEADERSHIP_CONFIG"
[[kv_namespaces]]
binding = "LEADERSHIP_CONFIG"
id = "UPDATE_AFTER_CREATION"

# Environment variables (non-sensitive)
[vars]
ENVIRONMENT = "production"
API_VERSION = "1.0.0"

# Build configuration
[build]
command = ""
watch_dirs = ["worker.js"]

# Observability
[observability]
enabled = true
